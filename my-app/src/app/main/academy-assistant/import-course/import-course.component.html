<!-- <button style="float:right" (click)="showDialogFile()" type="button" pButton label="Nhập File Excel"></button> -->

<p-dialog header="Gửi Danh Sách Môn Học" [(visible)]="displayFile" showEffect="fade" [modal]="true" width="1200" minHeight="500">
    <div class="ui-g">
        <div class="ui-g-12">
            <p-dropdown [style]="{'width':'100%'}" (onChange)="onChange($event.value)" [(ngModel)]="selectedGrade" [options]="allGrades"
                optionLabel="Name" placeholder="Chọn khối"></p-dropdown>
        </div>
    </div>

    <!-- file upload -->
    <p-fileUpload chooseLabel="Chọn File Excel" uploadLabel="Gửi File" cancelLabel="Huỷ" mode="advanced" #form name="myfile[]"
        *ngIf="!dataResponseImportFile && selectedGrade" (uploadHandler)="myUploader($event)" customUpload="true" showUploadButton="true"
        showCancelButton="true" maxFileSize="10000000" [style]="{'margin-bottom':'100px'}" [accept]="'.xlsx'"> </p-fileUpload>
    <!-- / file upload -->

    <!-- datatable of return data upload file -->
    <p-dataTable [value]="dataResponseImportFile " *ngIf="dataResponseImportFile" resizableColumns="true" [rows]="50" [paginator]="true"
        [pageLinks]="5" [rowsPerPageOptions]="[20,100,200]" [responsive]="true" [resizableColumns]="true" [reorderableColumns]="true"
        [metaKeySelection]="false">
        <p-header>
            <h3>Danh Sách Khoá Học Từ File</h3>
        </p-header>
        <!-- p-body -->
        <p-column field="STT" header="STT" [style]="{'width':'50px'}">
        </p-column>

        <p-column field="MaMH" header="Mã môn học" [style]="{'width':'100px'}">
        </p-column>

        <p-column field="Name" header="Tên môn học">
        </p-column>

        <p-column field="DVHT" header="DVHT" [style]="{'width':'100px'}">
        </p-column>
        <p-column field="Tongtiet" header="Tổng tiết" [style]="{'width':'100px'}">
        </p-column>
        <p-column field="BT" header="BT" [style]="{'width':'100px'}">
        </p-column>
        <p-column field="LT" header="LT" [style]="{'width':'100px'}">
        </p-column>
        <p-column field="TH" header="TH" [style]="{'width':'100px'}">
        </p-column>
        <p-column field="HK" header="HK" [style]="{'width':'100px'}">
        </p-column>


        <!-- / p-body -->

    </p-dataTable>

    <div class="ui-g" *ngIf="dataResponseImportFile">
        <div *ngIf="!isImport" class="ui-g-12">
            <p-messages [(value)]="msgs"></p-messages>
        </div>
        <div class="ui-g-4 ui-g-offset-5">
            <button *ngIf="isImport" type="button" pButton label="Xác Nhận" (click)="importFile()"></button>
            <button pButton type="button" (click)="cancelImport()" label="Huỷ Bỏ" class="ui-button-secondary"></button>
        </div>
    </div>
    <!-- / datatable of return data upload file -->
</p-dialog>

<p-dataTable [value]="allCourses" [paginator]="true" [pageLinks]="5" [rowsPerPageOptions]="[20,100,200]" [globalFilter]="gb"
    emptyMessage="Không tìm thấy kết quả" #dt [rows]="50" [metaKeySelection]="false" [reorderableColumns]="true" responsive="true"
    [resizableColumns]="true">
    <!-- p-header -->
    <p-header>
        <div class="ui-helper-clearfix ">
            <input style="float:left" #gb type="text" pInputText size="50" placeholder="Tìm Kiếm  ...">
            <button style="float:right" (click)="showDialogFile()" type="button" pButton label="Nhập File Excel"></button>
            <a style="color:green ; float:right; margin: 0 10px" href="../../../../assets/files/MonHoc.xlsx" target="_self" download>
                <i class="fa fa-download"></i> Tải mẫu môn học
            </a>
        </div>
    </p-header>
    <!--  / p-header -->

    <!-- p-body -->

    <p-column field="MaMH" header="Mã môn học" [style]="{'width':'100px'}">
    </p-column>

    <p-column field="Name" header="Tên môn học">
    </p-column>

    <p-column field="DVHT" header="DVHT" [style]="{'width':'100px'}">
    </p-column>
    <p-column field="TongTiet" header="Tổng tiết" [style]="{'width':'100px'}">
    </p-column>
    <p-column field="BT" header="BT" [style]="{'width':'100px'}">
    </p-column>
    <p-column field="LT" header="LT" [style]="{'width':'100px'}">
    </p-column>
    <p-column field="TH" header="TH" [style]="{'width':'100px'}">
    </p-column>
    <p-column field="HK" header="HK" [style]="{'width':'100px'}">
    </p-column>

    <p-column [style]="{'width':'85px'}" field="Id" header="Sửa">
        <ng-template let-course="rowData" pTemplate="body">
            <button pButton icon="fa-pencil" [routerLink]="['/main/assistant/course-detail', course.Id]" type="button" class="ui-button-warning"></button>
            <button pButton (click)="deleteCourse(course)" icon="fa-trash" type="button" class="ui-button-danger"></button>
        </ng-template>

    </p-column>

    <!-- p-footer -->
    <p-footer class="footer">
        <div class="ui-helper-clearfix">

        </div>
    </p-footer>
</p-dataTable>


<!-- Dialog -->
<p-dialog header="Thông tin Khoá học" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" width="1200">
    <div class="ui-g" *ngIf="selectedCourse">
        <!-- <div class="ui-g-4"> Mã: </div>
        <div class="ui-g-8">{{selectedStudent.StudentId}}</div>
        <div class="ui-g-4"> Họ và Tên: </div>
        <div class="ui-g-8">{{selectedStudent.Name}}</div>
        <div class="ui-g-4"> Phái: </div>
        <div class="ui-g-8">{{selectedStudent.Gender}}</div>
        <div class="ui-g-4"> Khối: </div>
        <div class="ui-g-8">{{selectedStudent.Grade}}</div>
        <div class="ui-g-4"> Lớp: </div>
        <div class="ui-g-8">{{selectedStudent.Class}}</div> -->
    </div>
</p-dialog>
