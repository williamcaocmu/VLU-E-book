<p-breadcrumb [model]="items" [home]="'fa fa-home'"></p-breadcrumb>
<div class="row text-center">
  <h3>DANH SÁCH SINH VIÊN</h3>
</div>

<p-dataTable [(selection)]="selectedCars" selectionMode="multiple" #dt [value]="allTimeSheetData" resizableColumns="true"
  [rows]="50" [paginator]="true" [pageLinks]="5" [rowsPerPageOptions]="[50,100]" [responsive]="true" [globalFilter]="gb" [resizableColumns]="true"
  emptyMessage="Không tìm thấy kết quả" [reorderableColumns]="true" [metaKeySelection]="false">
  <!-- p-header -->
  <p-header>
    <div class="ui-helper-clearfix ">
      <input style="float:left" #gb type="text" pInputText size="50" placeholder="Tìm Kiếm  ...">

      <button style="float:right" type="button" pButton icon="fa-plus" [routerLink]="['/main/assistant/class-management',0]" label="Thêm "></button>

      <p-fileUpload icon="fa-circle" mode="basic" name="demo[]" url="./upload.php" accept=".xlsm,application/msexcel" (onUpload)="onBasicUpload($event)"
        chooseLabel="Nhập file Excel" style="float:right"></p-fileUpload>


    </div>
  </p-header>
  <!--  / p-header -->

  <!-- p-footer -->
  <p-footer class="footer">
    <div class="ui-helper-clearfix">
      <button type="button" pButton icon="fa-file-o" iconPos="left" label="Xuất Tất Cả (CSV)" (click)="dt.exportCSV()" style="float:left"></button>
      <button type="button" pButton icon="fa-file" iconPos="left" label="Xuất Dữ Liệu Đã Chọn (CSV)" (click)="dt.exportCSV({selectionOnly:true})"
        style="float:right"></button>
    </div>
  </p-footer>
  <!-- /p-footer  -->

  <!-- p-body -->
  <p-column [sortable]="true" filterPlaceholder="Search" field="StaffId" header="Mã"></p-column>
  <p-column [sortable]="true" field="Date" filterPlaceholder="Search" header="Ngày Sinh"></p-column>
  <p-column [sortable]="true" field="Name" filterPlaceholder="Search" header="Họ Và Tên"></p-column>
  <p-column field="project" header="Khối" filterPlaceholder="Nhap" [filter]="true" filterMatchMode="equals" [style]="{'overflow':'visible'}">
    <ng-template pTemplate="filter" let-col>
      <p-dropdown [options]="allProjects1" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)"
        styleClass="ui-column-filter"></p-dropdown>
    </ng-template>
  </p-column>
  <p-column field="project" header="Lớp" filterPlaceholder="Nhap" [filter]="true" filterMatchMode="equals" [style]="{'overflow':'visible'}">
    <ng-template pTemplate="filter" let-col>
      <p-dropdown [options]="allProjects2" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)"
        styleClass="ui-column-filter"></p-dropdown>
    </ng-template>
  </p-column>
  <p-column [sortable]="true" field="sex" filterPlaceholder="Search" header="Phái"></p-column>
  
  <p-column [style]="{'width':'90px'}" field="Id" header="Sửa">
    <ng-template let-car="rowData" pTemplate="body">
      <button pButton icon="fa-pencil" [routerLink]="['/main/account', car.Id]" type="button" class="ui-button-warning"></button>
      <button pButton type="button" icon="fa-search" (click)="selectStudent($event, car)"></button>
    </ng-template>

  </p-column>
  <!-- / p-body -->

</p-dataTable>

<p-dialog header="Thông tin sinh viên" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" width="225" (onAfterHide)="onDialogHide()">
  <div class="ui-g" *ngIf="selectedCar">
      <div class="ui-g-12" style="text-align:center">
          <img src="assets/showcase/images/demo/car/{{selectedCar.brand}}.png">
      </div>
      <div class="ui-g-4"> Mã: </div>
      <div class="ui-g-8">{{selectedCar.vin}}</div>

      <div class="ui-g-4">Ngày Sinh: </div>
      <div class="ui-g-8">{{selectedCar.brand}}</div>

      <div class="ui-g-4">Họ và Tên: </div>
      <div class="ui-g-8">{{selectedCar.year}}</div>

      <div class="ui-g-4">Khối: </div>
      <div class="ui-g-8">{{selectedCar.color}}</div>

      <div class="ui-g-4">Lớp: </div>
      <div class="ui-g-8">{{selectedCar.color}}</div>

      <div class="ui-g-4">Phái: </div>
      <div class="ui-g-8">{{selectedCar.color}}</div>
  </div>
</p-dialog>
